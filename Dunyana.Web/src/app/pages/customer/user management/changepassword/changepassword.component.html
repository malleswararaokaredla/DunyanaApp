<div class="changepassword">
    <p-dialog header="Change Password" [(visible)]="display" [modal]="true" [responsive]="true"
        [style]="{width: '475px'}" [closeOnEscape]="true" (onHide)="onClose()">

        <form class="from_wrapper" [formGroup]="changepwdForm" novalidate>
            <div class="row inputset">
                <h2 class="col-md-12 text-center">Change password</h2>
                <div class="col-sm-6"><label>Old Password</label><span>*</span></div>
                <div class="col-sm-6"><input [type]="oshow ? 'text' : 'password'" placeholder="********" formControlName="PWD"
                        appBlockCopyPaste [(ngModel)]="changepassword.PWD" maxlength="12"
                        onkeydown="javascript: return (event.keyCode ==32) ?false  : true">
                        <i id="pass-status" class="fa fa-eye" aria-hidden="true" (click)="password('o')"></i>
                    </div>
                <div class="col-sm-12">
                    <div *ngIf="changepwdForm.controls['PWD'].errors && !changepwdForm.controls['PWD'].pristine"
                        class="text-danger error">
                        <div [hidden]="!changepwdForm.controls['PWD'].errors.required">Please enter old password</div>
                    </div>
                </div>

                <div class="col-sm-12">
                    <hr>
                </div>
            </div>
            <div class="row inputset">
                <div class="col-sm-6"><label>New Password</label><span>*</span></div>
                <div class="col-sm-6">
                    <input [type]="nshow ? 'text' : 'password'" placeholder="********" formControlName="NPWD"
                        [(ngModel)]="changepassword.NPWD" appBlockCopyPaste maxlength="12"
                        onkeydown="javascript: return (event.keyCode ==32) ?false  : true">
                        <i id="pass-status" class="fa fa-eye" aria-hidden="true" (click)="password('n')"></i>
                    </div>
                <div class="col-sm-12">
                    <div *ngIf="changepwdForm.controls['NPWD'].errors && !changepwdForm.controls['NPWD'].pristine"
                        class="text-danger error">
                        <div [hidden]="!changepwdForm.controls['NPWD'].errors.required">Please enter new password</div>
                        <div [hidden]="!changepwdForm.controls['NPWD'].errors?.pattern">The password length must be 8 to
                            12 characters and it should contain at least 1 uppercase,1 lowercase, 1 special
                            character($,@,!,_) and 1 numeric.</div>

                    </div>
                    <div class="text-danger error">
                        <span [hidden]="false">{{pwdvaliderrormsg}}</span>
                    </div>
                </div>
                <div class="col-sm-12">
                    <hr>
                </div>
            </div>
            <div class="row inputset">
                <div class="col-sm-6"><label>Confirm Password</label><span>*</span></div>
                <div class="col-sm-6">
                    <input [type]="cshow ? 'text' : 'password'" placeholder="********" formControlName="confirmpassword"
                        appBlockCopyPaste [(ngModel)]="changepassword.confirmpassword"
                        onkeydown="javascript: return (event.keyCode ==32) ?false  : true" maxlength="12">
                        <i id="pass-status" class="fa fa-eye" aria-hidden="true" (click)="password('c')"></i>
                    </div>
                <div class="col-sm-12">
                    <div *ngIf="changepwdForm.controls['confirmpassword'].errors && !changepwdForm.controls['confirmpassword'].pristine"
                        class="text-danger error">
                        <div [hidden]="!changepwdForm.controls['confirmpassword'].errors.required">Please enter confirm
                            password</div>
                        <div [hidden]="!changepwdForm.controls['confirmpassword'].errors?.mustMatch">Confirm password
                            must match</div>
                    </div>
                    <div class="text-danger error">
                        <span [hidden]="false">{{cpwdvaliderrormsg}}</span>
                    </div>
                    <div>
                        <span></span>
                    </div>
                </div>
                <div class="col-sm-12">
                    <hr>
                </div>
            </div>
            <div class="row justify-content-center mt-4">

                <button class="line_btn sblue mr-4" [disabled]="changepwdForm.invalid"
                    (click)="SaveChangePassword()">Submit</button>
                <button (click)="redirectCustomer()" class="line_btn sblue">Cancel</button>

            </div>
            <div class="">
                <div [ngClass]="responsesty">
                    <span>{{response}}</span>
                </div>
            </div>
        </form>

        <div class="loading-indicator mid" *ngIf="ProgressSpinnerDlg">
            <p-progressSpinner></p-progressSpinner>
        </div>
        <div class="overlay" *ngIf="ProgressSpinnerDlg"></div>
    </p-dialog>

</div>

<p-toast position="bottom-right"></p-toast>